version: 1
name: "Day/Night Theme Switching - Enhanced"
description: "Theme switching validation without panel reload"
timeout: 45000ms

steps:
  # Wait for simulation start
  - delay: 2000ms
  
  # Initialize with sensor data and day theme
  - set-control:
      part-id: sw1
      control: value
      value: 0  # All DIP switches OFF (day theme)
  - set-control:
      part-id: pot1
      control: value
      value: 300  # Some pressure reading
  - set-control:
      part-id: pot2
      control: value
      value: 400  # Some temperature reading
  - delay: 3000ms
  
  # Verify startup and oil panel load
  - wait-serial: "Oil panel"
  - delay: 2000ms
  - wait-serial: "Day"
  - delay: 1000ms
  
  # Activate night theme
  - set-control:
      part-id: sw1
      control: value
      value: 8  # DIP switch #4 ON (Lights)
  - delay: 2000ms
  - wait-serial: "Night"
  - delay: 2000ms
  
  # Restore day theme
  - set-control:
      part-id: sw1
      control: value
      value: 0  # DIP switch #4 OFF
  - delay: 2000ms
  - wait-serial: "Day"
  - delay: 1000ms
  
  # Multiple theme toggles test
  - set-control:
      part-id: sw1
      control: value
      value: 8  # Night
  - delay: 1000ms
  - set-control:
      part-id: sw1
      control: value
      value: 0  # Day
  - delay: 1000ms