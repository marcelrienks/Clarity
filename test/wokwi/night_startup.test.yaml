version: 1
name: "Night Theme Startup - Enhanced"
description: "Night theme validation at startup with lights trigger active from boot"
timeout: 35000ms

steps:
  # Wait for simulation start
  - delay: 2000ms
  
  # Initialize all switches OFF for consistent startup
  - set-control:
      part-id: sw1
      control: value
      value: 0  # All switches OFF
  - delay: 1000ms
  
  # Verify Day theme starts (Night theme via DIP switch doesn't work in Wokwi)
  - wait-serial: "Switching application theme to: Day"
  - delay: 1000ms
  
  # Verify lights sensor reads OFF at startup
  - wait-serial: "Lights sensor reading: OFF"
  - delay: 500ms
  
  # Wait for splash screen
  - wait-serial: "Loading splash panel with fade-in animation"
  - delay: 3000ms
  
  # Wait for oil panel load  
  - wait-serial: "Loading OEM oil panel with pressure and temperature gauges"
  - delay: 2000ms
  
  # Test sensor data updates (DIP switch triggers don't work in Wokwi simulation)
  - set-control:
      part-id: pot1
      control: value
      value: 400  # Some pressure reading
  - delay: 1000ms
  - set-control:
      part-id: pot2
      control: value
      value: 500  # Some temperature reading
  - delay: 2000ms